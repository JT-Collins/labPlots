---
title: "Lab style plots"
author: "J. Collins"
date: '2022-06-24'
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

```

## Lab Style

last updated "`r Sys.Date()`"

This repo contains the functions of the `labPlots` package, which once installed locally, provides helpful functions for creating graphics made in ggplot in the style used by the Collins Lab. The package and this doc borrows (steals) heavily from the bbplots package.

## Load all the libraries you need

A few of the steps in this cookbook - and to create charts in R in general - require certain packages to be installed and loaded. So that you do not have to install and load them one by one, you can use the p_load function in the pacman package to load them all at once with the following code.

```{r}
#This line of code installs the pacman page if you do not have it installed - if you do, it simply loads the package

if(!require(pacman))install.packages("pacman")

pacman::p_load('dplyr', 'tidyr', 'gapminder',
               'ggplot2',  'ggalt', 'ragg',
               'forcats', 'R.utils', 'png', 
               'grid', 'ggpubr', 'scales',
               'labPlots')
```

## Installing labPlots package

`labPlots` is not on CRAN, so you will have to install it directly from Github using `devtools`. 

If you do not have the `devtools` package installed, you will have to run the first line in the code below as well. 

```
# install.packages("devtools")
devtools::install_github("JT-Collins/labPlots")
```
## How does the labPlot package work?
The package has just one function, lab_style().

lab_style(): has no arguments and is added to the ggplot ‘chain’ after you have created a plot. What it does is generally makes text size, font and colour, axis lines, axis text, margins and many other standard chart components into Lab style.

Note that colours for lines in the case of a line chart or bars for a bar chart, are based on the UofL colour scheme but can be set to other colours where needed.

The code below shows how the lab_style() should be used within standard chart-production workflow. This is an example for a very simple line chart, using data from the gapminder package.

```{r}
#Data for chart from gapminder package
line_df <- gapminder %>%
  filter(country == "Malawi") 

#Make plot
line <- ggplot(line_df, aes(x = year, y = lifeExp)) +
  geom_line(size = 1) +
  lab_style() +
  labs(title="Living longer",
       subtitle = "Life expectancy in Malawi 1952-2007") +
  NULL
```

```{r, echo=FALSE, message = FALSE, warning = FALSE}
line
```

